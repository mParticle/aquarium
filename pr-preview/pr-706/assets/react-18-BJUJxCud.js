var a=(e,r,t)=>new Promise((n,s)=>{var i=o=>{try{l(t.next(o))}catch(m){s(m)}},R=o=>{try{l(t.throw(o))}catch(m){s(m)}},l=o=>o.done?n(o.value):Promise.resolve(o.value).then(i,R);l((t=t.apply(e,r)).next())});import{r as c}from"./index-CNk6hRaE.js";import{c as p}from"./client-CgpM46-k.js";import"./index-DN1Ck1Y5.js";var u=new Map;function v(){return globalThis.IS_REACT_ACT_ENVIRONMENT}var E=({callback:e,children:r})=>{let t=c.useRef();return c.useLayoutEffect(()=>{t.current!==e&&(t.current=e,e())},[e]),r};typeof Promise.withResolvers>"u"&&(Promise.withResolvers=()=>{let e=null,r=null;return{promise:new Promise((t,n)=>{e=t,r=n}),resolve:e,reject:r}});var y=(e,r,t)=>a(void 0,null,function*(){let n=yield f(r,t);if(v()){n.render(e);return}let{promise:s,resolve:i}=Promise.withResolvers();return n.render(c.createElement(E,{callback:i},e)),s}),A=(e,r)=>{let t=u.get(e);t&&(t.unmount(),u.delete(e))},f=(e,r)=>a(void 0,null,function*(){let t=u.get(e);return t||(t=p(e,r),u.set(e,t)),t});export{y as renderElement,A as unmountElement};
